import "../styles/Fixtures.css"
import useStore from "../hooks/useStore"
import RenderFixtureListItem from"../components/RenderFixtureListItem"


export default function Fixtures(){
  let teams = useStore(store => store.teams)
  if (teams === null) return <></>
  let homeTeams = teams.slice(0, teams.length/2)
  let awayTeams = teams.slice(teams.length/2,teams.length) 
  let fixturesList = []
  
  for (let matchDay = 1; matchDay < teams.length; matchDay++){
    for (let match = 0; match < teams.length/2; match++)
       fixturesList = [...fixturesList, {matchDay, homeTeam: homeTeams[match], awayTeam: awayTeams[match]}] 
    awayTeams.push(homeTeams.pop())
    homeTeams.unshift(awayTeams.shift())
  }

  return <>
    <ul className="main-fixture-list">
      <li className="fixture-heading-li">
        <span className="fixtures-list-item-span fixture-list-item-place">Match-Day</span>
        <span className="fixtures-list-item-span ">Home-Team</span>
        <span className="fixtures-list-item-span "> vs </span>
        <span className="fixtures-list-item-span ">Away-Team</span>
      </li>
      {fixturesList.map(fixture => <RenderFixtureListItem fixture={fixture}/>)}
    </ul></>
}  

